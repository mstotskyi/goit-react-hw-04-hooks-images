{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","services/apiService.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchQery","page","handleOnSubmit","e","preventDefault","props","getSearchQuery","setState","handleOnChange","target","value","className","styles","SearchForm","onSubmit","this","type","SearchForm__button","SearchForm__button__label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","Component","PicsApiService","searchQuery","hits","URL","fetch","then","response","json","data","getHits","totalHits","newQuery","ImageGalleryItem","photos","showModal","length","map","photo","onClick","src","webformatURL","alt","tags","largeImageURL","ImageGalleryItem__image","Button","handleOnClick","Modal","handleEscape","code","togleModal","window","addEventListener","removeEventListener","createPortal","Overlay","img","dataset","source","document","getElementById","Spiner","color","height","width","timeout","loader","newPicsApiService","ImageGallery","searchResults","status","modalImage","showSpiner","incrementPage","togleSpiner","fetchPictures","result","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","error","prevProps","query","resetPage","alert","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.0385eb7f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2lVHh\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__1EWtl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2dj5A\",\"Modal\":\"Modal_Modal__3Ngtj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3s90g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2bEnA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3dQzJ\"};","import PropTypes from 'prop-types';\r\n\r\nimport { Component } from 'react';\r\nimport styles from 'components/Searchbar/Searchbar.module.css';\r\n\r\nexport class Searchbar extends Component {\r\n  state = {\r\n    searchQery: '',\r\n    page: null,\r\n  };\r\n\r\n  handleOnSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.getSearchQuery(this.state.searchQery);\r\n    this.setState({ searchQery: '' });\r\n    this.setState({ page: 1 });\r\n  };\r\n\r\n  handleOnChange = e => this.setState({ searchQery: e.target.value });\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleOnSubmit}>\r\n          <button type=\"submit\" className={styles.SearchForm__button}>\r\n            <span className={styles.SearchForm__button__label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchForm__input}\r\n            value={this.state.searchQery}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleOnChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  getSearchQuery: PropTypes.func.isRequired,\r\n};\r\n","export default class PicsApiService {\r\n  constructor() {\r\n    this.searchQuery = '';\r\n    this.page = 1;\r\n    this.hits = 0;\r\n  }\r\n\r\n  fetchPictures() {\r\n    const API_KEY = '23134043-5454bb2c28435773c6d2778ec';\r\n    const BASE_URL = 'https://pixabay.com/api/';\r\n    const URL = `${BASE_URL}?image_type=photo&orientation=horizontal&q=${this.searchQuery}&page=${this.page}&per_page=15&key=${API_KEY}`;\r\n    return fetch(URL)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        this.getHits(data.totalHits);\r\n        return data.hits;\r\n      });\r\n  }\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  }\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  }\r\n\r\n  getHits(totalHits) {\r\n    this.hits = totalHits;\r\n  }\r\n\r\n  get query() {\r\n    return this.searchQuery;\r\n  }\r\n\r\n  set query(newQuery) {\r\n    this.searchQuery = newQuery;\r\n  }\r\n}\r\n","import PropTypes from 'prop-types';\r\n\r\nimport styles from 'components/ImageGalleryItem/ImageGalleryItem.module.css';\r\n\r\nexport function ImageGalleryItem({ photos, showModal }) {\r\n  return (\r\n    photos.length > 0 &&\r\n    photos.map(photo => (\r\n      <li\r\n        key={photo.webformatURL}\r\n        className={styles.ImageGalleryItem}\r\n        onClick={showModal}\r\n      >\r\n        <img\r\n          src={photo.webformatURL}\r\n          alt={photo.tags}\r\n          data-source={photo.largeImageURL}\r\n          className={styles.ImageGalleryItem__image}\r\n        />\r\n      </li>\r\n    ))\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  photos: PropTypes.arrayOf(PropTypes.object),\r\n  showModal: PropTypes.func,\r\n};\r\n","import PropTypes from 'prop-types';\r\n\r\nimport styles from 'components/Button/Button.module.css';\r\n\r\nexport function Button({ handleOnClick }) {\r\n  return (\r\n    <button type=\"button\" className={styles.Button} onClick={handleOnClick}>\r\n      LoadMore\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  handleOnClick: PropTypes.func,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport { Component } from 'react';\r\nimport styles from 'components/Modal/Modal.module.css';\r\nimport { createPortal } from 'react-dom';\r\n\r\nexport class Modal extends Component {\r\n  state = {};\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleEscape);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleEscape);\r\n  }\r\n\r\n  handleEscape = e => {\r\n    let condition = e.code === 'Escape';\r\n    if (condition) {\r\n      this.props.togleModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.props.togleModal}>\r\n        <div className={styles.Modal}>\r\n          <img src={this.props.img.dataset.source} alt={this.props.img.alt} />\r\n        </div>\r\n      </div>,\r\n      document.getElementById('modalRoot'),\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  img: PropTypes.object,\r\n  togleModal: PropTypes.func,\r\n};\r\n","import Loader from 'react-loader-spinner';\nimport { Component } from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport styles from 'components/Loader/Loader.module.css';\n\nexport default class Spiner extends Component {\n  //other logic\n  render() {\n    return (\n      <Loader\n        type=\"Watch\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={100000}\n        className={styles.loader} //3 secs\n      />\n    );\n  }\n}\n","import PropTypes from 'prop-types';\r\nimport { Component } from 'react';\r\nimport styles from 'components/ImageGallery/ImageGallery.module.css';\r\nimport PicsApiService from 'services/apiService';\r\nimport { ImageGalleryItem } from 'components/ImageGalleryItem/ImageGalleryItem';\r\nimport { Button } from 'components/Button/Button';\r\nimport { Modal } from 'components/Modal/Modal';\r\nimport Spiner from 'components/Loader/Loader';\r\n\r\nconst newPicsApiService = new PicsApiService();\r\n\r\nexport class ImageGallery extends Component {\r\n  state = {\r\n    searchResults: [],\r\n    status: 'init',\r\n    showModal: false,\r\n    modalImage: '',\r\n    showSpiner: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.searchQuery !== this.props.searchQuery) {\r\n      this.setState({ status: 'pending' });\r\n      newPicsApiService.query = this.props.searchQuery;\r\n      newPicsApiService.resetPage();\r\n      newPicsApiService\r\n        .fetchPictures()\r\n        .then(result =>\r\n          this.setState({ searchResults: result, status: 'success' }),\r\n        )\r\n        .catch(error => {\r\n          this.setState({ status: 'error' });\r\n        });\r\n    }\r\n  }\r\n\r\n  handleOnClick = e => {\r\n    newPicsApiService.incrementPage();\r\n    this.togleSpiner();\r\n    newPicsApiService\r\n      .fetchPictures()\r\n      .then(result => {\r\n        this.setState(prevState => ({\r\n          searchResults: [...prevState.searchResults, ...result],\r\n          status: 'success',\r\n        }));\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: 'smooth',\r\n        });\r\n        this.togleSpiner();\r\n      })\r\n      .catch(error => {\r\n        this.setState({ status: 'error' });\r\n      });\r\n  };\r\n  togleSpiner = () => this.setState({ showSpiner: !this.state.showSpiner });\r\n  togleModal = () => this.setState({ showModal: !this.state.showModal });\r\n\r\n  showModal = e => {\r\n    this.togleModal();\r\n    this.setState({ modalImage: e.target });\r\n  };\r\n\r\n  render() {\r\n    if (this.state.status === 'init') {\r\n      return <h1>Hallo! Search something!</h1>;\r\n    }\r\n    if (this.state.status === 'pending') {\r\n      return <Spiner />;\r\n    }\r\n    if (this.state.status === 'success') {\r\n      return (\r\n        <>\r\n          <ul className={styles.ImageGallery}>\r\n            <ImageGalleryItem\r\n              photos={this.state.searchResults}\r\n              showModal={this.showModal}\r\n            />\r\n          </ul>\r\n          {this.state.showSpiner && <Spiner />}\r\n          <Button handleOnClick={this.handleOnClick} />\r\n          {this.state.showModal && (\r\n            <Modal togleModal={this.togleModal} img={this.state.modalImage} />\r\n          )}\r\n        </>\r\n      );\r\n    }\r\n    if (this.state.status === 'error') {\r\n      alert('ERROR!!');\r\n    }\r\n  }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  searchQuery: PropTypes.string,\r\n};\r\n","import './App.css';\r\nimport { Component } from 'react';\r\nimport { Searchbar } from 'components/Searchbar/Searchbar';\r\nimport { ImageGallery } from 'components/ImageGallery/ImageGallery';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n  };\r\n\r\n  getSearchQuery = searchQuery => this.setState({ searchQuery });\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Searchbar getSearchQuery={this.getSearchQuery} />\r\n        <ImageGallery searchQuery={this.state.searchQuery} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3E9Qg\",\"SearchForm\":\"Searchbar_SearchForm__2ep31\",\"SearchForm__button\":\"Searchbar_SearchForm__button__XkhLF\",\"SearchForm__button__label\":\"Searchbar_SearchForm__button__label__6-bI7\",\"SearchForm__input\":\"Searchbar_SearchForm__input__D9tQP\"};"],"sourceRoot":""}