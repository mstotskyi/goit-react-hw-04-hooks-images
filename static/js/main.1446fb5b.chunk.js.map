{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","services/apiService.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["module","exports","Searchbar","getSearchQuery","useState","searchQery","setSearchQuery","className","styles","SearchForm","onSubmit","e","preventDefault","type","SearchForm__button","SearchForm__button__label","SearchForm__input","value","autoComplete","autoFocus","placeholder","onChange","target","PicsApiService","this","searchQuery","page","hits","URL","fetch","then","response","json","data","getHits","totalHits","newQuery","ImageGalleryItem","photos","showModal","length","map","photo","onClick","src","webformatURL","alt","tags","largeImageURL","ImageGalleryItem__image","Button","handleOnClick","Modal","img","togleModal","createPortal","Overlay","dataset","source","document","getElementById","Spiner","color","height","width","timeout","loader","Component","newPicsApiService","ImageGallery","searchResults","setSearchResults","status","setStatus","setShowModal","modalImage","setModalImage","showSpiner","setShowSpiner","useEffect","query","resetPage","fetchPictures","result","catch","error","incrementPage","prevState","window","scrollTo","top","documentElement","scrollHeight","behavior","alert","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.1446fb5b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1ombT\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__1E0vM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1-6WM\",\"Modal\":\"Modal_Modal__23VCB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1cF-V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2QSQE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2zgRE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__gwQX6\",\"SearchForm\":\"Searchbar_SearchForm__1W_yG\",\"SearchForm__button\":\"Searchbar_SearchForm__button__1FG3c\",\"SearchForm__button__label\":\"Searchbar_SearchForm__button__label__iGMDj\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1vsMe\"};","import PropTypes from 'prop-types';\r\n\r\nimport { useState } from 'react';\r\nimport styles from 'components/Searchbar/Searchbar.module.css';\r\n\r\nexport function Searchbar({ getSearchQuery }) {\r\n  const [searchQery, setSearchQuery] = useState('');\r\n\r\n  const handleOnSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    getSearchQuery(searchQery);\r\n    setSearchQuery('');\r\n  };\r\n\r\n  const handleOnChange = e => setSearchQuery(e.target.value);\r\n\r\n  return (\r\n    <header className={styles.Searchbar}>\r\n      <form className={styles.SearchForm} onSubmit={handleOnSubmit}>\r\n        <button type=\"submit\" className={styles.SearchForm__button}>\r\n          <span className={styles.SearchForm__button__label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={styles.SearchForm__input}\r\n          value={searchQery}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={handleOnChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  getSearchQuery: PropTypes.func.isRequired,\r\n};\r\n","export default class PicsApiService {\r\n  constructor() {\r\n    this.searchQuery = '';\r\n    this.page = 1;\r\n    this.hits = 0;\r\n  }\r\n\r\n  fetchPictures() {\r\n    const API_KEY = '23134043-5454bb2c28435773c6d2778ec';\r\n    const BASE_URL = 'https://pixabay.com/api/';\r\n    const URL = `${BASE_URL}?image_type=photo&orientation=horizontal&q=${this.searchQuery}&page=${this.page}&per_page=15&key=${API_KEY}`;\r\n    return fetch(URL)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        this.getHits(data.totalHits);\r\n        return data.hits;\r\n      });\r\n  }\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  }\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  }\r\n\r\n  getHits(totalHits) {\r\n    this.hits = totalHits;\r\n  }\r\n\r\n  get query() {\r\n    return this.searchQuery;\r\n  }\r\n\r\n  set query(newQuery) {\r\n    this.searchQuery = newQuery;\r\n  }\r\n}\r\n","import PropTypes from 'prop-types';\r\n\r\nimport styles from 'components/ImageGalleryItem/ImageGalleryItem.module.css';\r\n\r\nexport function ImageGalleryItem({ photos, showModal }) {\r\n  return (\r\n    photos.length > 0 &&\r\n    photos.map(photo => (\r\n      <li\r\n        key={photo.webformatURL}\r\n        className={styles.ImageGalleryItem}\r\n        onClick={showModal}\r\n      >\r\n        <img\r\n          src={photo.webformatURL}\r\n          alt={photo.tags}\r\n          data-source={photo.largeImageURL}\r\n          className={styles.ImageGalleryItem__image}\r\n        />\r\n      </li>\r\n    ))\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  photos: PropTypes.arrayOf(PropTypes.object),\r\n  showModal: PropTypes.func,\r\n};\r\n","import PropTypes from 'prop-types';\r\n\r\nimport styles from 'components/Button/Button.module.css';\r\n\r\nexport function Button({ handleOnClick }) {\r\n  return (\r\n    <button type=\"button\" className={styles.Button} onClick={handleOnClick}>\r\n      LoadMore\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  handleOnClick: PropTypes.func,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport styles from 'components/Modal/Modal.module.css';\r\nimport { createPortal } from 'react-dom';\r\n\r\nexport function Modal({ img, togleModal }) {\r\n  return createPortal(\r\n    <div className={styles.Overlay} onClick={togleModal}>\r\n      <div className={styles.Modal}>\r\n        <img src={img.dataset.source} alt={img.alt} />\r\n      </div>\r\n    </div>,\r\n    document.getElementById('modalRoot'),\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  img: PropTypes.object,\r\n  togleModal: PropTypes.func,\r\n};\r\n","import Loader from 'react-loader-spinner';\r\nimport { Component } from 'react';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport styles from 'components/Loader/Loader.module.css';\r\n\r\nexport default class Spiner extends Component {\r\n  //other logic\r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"Watch\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={100000}\r\n        className={styles.loader} //3 secs\r\n      />\r\n    );\r\n  }\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { useState, useEffect } from 'react';\r\nimport styles from 'components/ImageGallery/ImageGallery.module.css';\r\nimport PicsApiService from 'services/apiService';\r\nimport { ImageGalleryItem } from 'components/ImageGalleryItem/ImageGalleryItem';\r\nimport { Button } from 'components/Button/Button';\r\nimport { Modal } from 'components/Modal/Modal';\r\nimport Spiner from 'components/Loader/Loader';\r\n\r\nconst newPicsApiService = new PicsApiService();\r\n\r\nexport function ImageGallery({ searchQuery }) {\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [status, setStatus] = useState('init');\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [modalImage, setModalImage] = useState(null);\r\n  const [showSpiner, setShowSpiner] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (searchQuery === '') {\r\n      return;\r\n    }\r\n    setStatus('pending');\r\n    newPicsApiService.query = searchQuery;\r\n    newPicsApiService.resetPage();\r\n    newPicsApiService\r\n      .fetchPictures()\r\n      .then(result => {\r\n        setSearchResults(result);\r\n        setStatus('success');\r\n      })\r\n      .catch(error => {\r\n        setStatus('error');\r\n      });\r\n  }, [searchQuery]);\r\n  const handleOnClick = e => {\r\n    newPicsApiService.incrementPage();\r\n    setShowSpiner(true);\r\n    newPicsApiService\r\n      .fetchPictures()\r\n      .then(result => {\r\n        setSearchResults(prevState => [...prevState, ...result]);\r\n        setShowSpiner(false);\r\n        setStatus('success');\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: 'smooth',\r\n        });\r\n      })\r\n      .catch(error => {\r\n        setStatus('error');\r\n      });\r\n  };\r\n  const togleModal = () => setShowModal(!showModal);\r\n  const openModal = e => {\r\n    setShowModal(!showModal);\r\n    setModalImage(e.target);\r\n  };\r\n\r\n  if (status === 'init') {\r\n    return <h1>Hallo! Search something!</h1>;\r\n  }\r\n  if (status === 'pending') {\r\n    return <Spiner />;\r\n  }\r\n  if (status === 'success') {\r\n    return (\r\n      <>\r\n        <ul className={styles.ImageGallery}>\r\n          <ImageGalleryItem photos={searchResults} showModal={openModal} />\r\n        </ul>\r\n        {showSpiner && <Spiner />}\r\n        <Button handleOnClick={handleOnClick} />\r\n        {showModal && <Modal togleModal={togleModal} img={modalImage} />}\r\n      </>\r\n    );\r\n  }\r\n  if (status === 'error') {\r\n    alert('ERROR!!');\r\n  }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  searchQuery: PropTypes.string,\r\n};\r\n","import './App.css';\r\nimport { useState } from 'react';\r\nimport { Searchbar } from 'components/Searchbar/Searchbar';\r\nimport { ImageGallery } from 'components/ImageGallery/ImageGallery';\r\n\r\nexport default function App() {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const getSearchQuery = searchQuery => setSearchQuery(searchQuery);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Searchbar getSearchQuery={getSearchQuery} />\r\n      <ImageGallery searchQuery={searchQuery} />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}